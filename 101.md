# Kubernetes Cluster Overview

## Node Types in Kubernetes Cluster

### 1. Master Nodes
The master node hosts the control plane components, which are responsible for managing the cluster and orchestrating its operations.

#### API Server
- Provides the Kubernetes API, the primary interface for interacting with the cluster.
- Processes RESTful API requests, performs authentication and authorization, and updates the cluster state stored in etcd.

#### Scheduler
- Assigns pods to nodes based on resource requirements, node constraints, and other factors specified in the pod's configuration.
- Ensures pods are scheduled onto suitable nodes within the cluster.

#### Controller Manager
- Includes various controllers responsible for managing different aspects of the cluster's state and performing reconciliation loops.
- Examples of controllers: Replication Controller, ReplicaSet Controller, Endpoint Controller.

#### There are many different types of controllers. Some examples of them are:

1.Node controller: Responsible for noticing and responding when nodes go down.
2.Job controller: Watches for Job objects that represent one-off tasks, then creates Pods to run those tasks to completion.
3.EndpointSlice controller: Populates EndpointSlice objects (to provide a link between Services and Pods).
4.ServiceAccount controller: Create default ServiceAccounts for new namespaces.

#### etcd
- A distributed key-value store that serves as the cluster's backing store for all persistent data.
- Stores the cluster's configuration data, state information, and metadata about objects such as pods, services, and nodes.

### 2. Worker Nodes
Worker nodes (also known as worker or minion nodes) are responsible for running the actual workloads, including containers/pods.

#### Runtime
- The container runtime, such as Docker or containerd, runs containerized applications within pods on the worker node.
- Manages the lifecycle of containers, including image downloading, container creation, starting, stopping, and deleting.

#### Kubelet
- An agent that runs on each worker node, responsible for managing containers, pods, and their associated resources.
- Communicates with the Kubernetes API server to receive instructions about pod deployment, management, and health monitoring.

#### kube-proxy
- A network proxy that runs on each worker node, responsible for implementing Kubernetes networking services.
- Maintains network rules on nodes and performs network address translation (NAT) for pods to ensure proper routing within the cluster.

---

## Key Components of Kubernetes

### Pod
A Kubernetes pod is a collection of one or more LinuxÂ® containers and is the smallest unit of a Kubernetes application. Pods share volume and network resources and specify how to run the containers.

### Deployment & ReplicaSet

#### ReplicaSet
- Ensures a specified number of pod replicas are running at any given time.

#### Deployment
- Manages ReplicaSets and Pods.
- Provides declarative updates to pods and ReplicaSets, ensuring a specified number of pods are running at any given time.
- Offers features like scaling, rolling updates, and rollback functionality.

### Volumes
In a Kubernetes cluster, files in a container are considered short-lived. If the pod is gone, the data it had is also gone. Kubernetes volumes solve this problem. A volume is a directory accessible to the containers in a pod, and the data in the volume will persist regardless of what happens to the containers.

### ConfigMaps & Secrets
These two are also a way to persist data. ConfigMaps and Secrets store data as key-value pairs:
- **ConfigMaps**: Typically used to store configuration data, such as environment variables.
- **Secrets**: Store sensitive data, such as passwords and API keys.

### Persistent Volumes (PVs) and Persistent Volume Claims (PVCs)
- **Persistent Volume (PV)**: A piece of storage in the Kubernetes cluster.
- **Persistent Volume Claim (PVC)**: A request for storage by a user.


---

## Services
A Service is an abstraction layer that defines a logical set of Pods and a policy by which to access them. Services enable decoupling of the network connectivity from the lifecycle of Pods. There are different types of Services in Kubernetes, each serving a specific purpose.

### Key Concepts

- **Selectors**: Services use label selectors to identify the set of Pods they should forward traffic to.
- **Endpoints**: A Service creates a list of endpoints that it maps to the selected Pods.

### Purpose
Kubernetes Services provide a stable endpoint (IP address and DNS name) to access one or multiple Pods.

---

## Resource Limitations

### Requests and Limits
- **Request**: The amount of resources that will get reserved for you.
- **Limit**: The amount of resources that will get limited to and can't take more.
